(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[78],{115:(e,s,a)=>{Promise.resolve().then(a.bind(a,4023))},4023:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var l=a(5155),r=a(2115),t=a(8145),c=a(7168),i=a(8482),n=a(1397),x=a(9663),d=a(4964),m=a(9474),h=a(2714),j=a(646),p=a(4186),N=a(9428),u=a(7550),g=a(381),o=a(9074),v=a(7434),y=a(1497),f=a(5339),b=a(7580),w=a(6874),A=a.n(w),Z=a(4283),B=a(5695);let R=e=>{switch(e){case"completed":return(0,l.jsx)(j.A,{className:"w-5 h-5 text-green-500"});case"in-progress":return(0,l.jsx)(p.A,{className:"w-5 h-5 text-blue-500"});default:return(0,l.jsx)(N.A,{className:"w-5 h-5 text-gray-400"})}},E=e=>{switch(e){case"已完成":return"bg-green-100 text-green-800";case"开发中":return"bg-blue-100 text-blue-800";case"设计中":return"bg-purple-100 text-purple-800";case"测试中":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};function k(){let e=parseInt((0,B.useParams)().id),{getProject:s,addProjectUpdate:a}=(0,Z.Y)(),[j,N]=(0,r.useState)(null),[w,k]=(0,r.useState)(""),[W,$]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{N(s(e)),$(!1)},[e,s]),W)?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"加载项目详情中..."})]})}):j?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between py-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(A(),{href:"/",children:(0,l.jsxs)(c.$,{variant:"ghost",size:"sm",children:[(0,l.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"返回项目列表"]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:j.name}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:j.description})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(t.E,{className:E(j.status),children:j.status}),(0,l.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"项目设置"]})]})]})})}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,l.jsxs)(d.tU,{defaultValue:"milestones",className:"space-y-6",children:[(0,l.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,l.jsx)(d.Xi,{value:"milestones",children:"项目里程碑"}),(0,l.jsx)(d.Xi,{value:"requirements",children:"需求管理"}),(0,l.jsx)(d.Xi,{value:"updates",children:"项目动态"}),(0,l.jsx)(d.Xi,{value:"files",children:"项目文档"})]}),(0,l.jsx)(d.av,{value:"milestones",className:"space-y-4",children:(0,l.jsxs)(i.Zp,{children:[(0,l.jsxs)(i.aR,{children:[(0,l.jsx)(i.ZB,{children:"项目里程碑"}),(0,l.jsx)(i.BT,{children:"跟踪项目各个关键节点的完成情况"})]}),(0,l.jsx)(i.Wu,{className:"space-y-4",children:Object.entries(j.milestones).map((e,s)=>{let[a,r]=e;return(0,l.jsxs)("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[R(r.status),s<Object.entries(j.milestones).length-1&&(0,l.jsx)("div",{className:"w-px h-8 bg-gray-200 mt-2"})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h4",{className:"font-medium",children:"prd"===a?"PRD评审":"techReview"===a?"技术评审":"development"===a?"技术开发":"integration"===a?"联调":"testing"===a?"测试":"上线"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,l.jsx)(o.A,{className:"w-4 h-4"}),r.plannedDate]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"completed"===r.status?"已完成":"in-progress"===r.status?"进行中":"待开始"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"负责人:"}),(0,l.jsx)("span",{className:"font-medium",children:r.owner})]})]})]},a)})})]})}),(0,l.jsx)(d.av,{value:"requirements",className:"space-y-4",children:(0,l.jsxs)(i.Zp,{children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(i.ZB,{children:"需求管理"}),(0,l.jsx)(i.BT,{children:"管理项目相关的功能需求和任务"})]}),(0,l.jsxs)(c.$,{size:"sm",children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"新增需求"]})]})}),(0,l.jsx)(i.Wu,{className:"space-y-4",children:j.requirements.map(e=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h4",{className:"font-medium",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.description||"暂无描述"})]}),(0,l.jsx)(t.E,{className:E(e.status),children:e.status})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"优先级:"}),(0,l.jsx)(t.E,{variant:"高"===e.priority?"destructive":"secondary",children:e.priority})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"负责人:"}),(0,l.jsx)("span",{className:"font-medium",children:e.assignee})]})]})]},e.id))})]})}),(0,l.jsx)(d.av,{value:"updates",className:"space-y-4",children:(0,l.jsxs)(i.Zp,{children:[(0,l.jsxs)(i.aR,{children:[(0,l.jsx)(i.ZB,{children:"项目动态"}),(0,l.jsx)(i.BT,{children:"项目进展更新和重要通知"})]}),(0,l.jsxs)(i.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,l.jsx)(h.J,{htmlFor:"update",className:"text-sm font-medium",children:"添加项目更新"}),(0,l.jsx)(m.T,{id:"update",placeholder:"输入项目进展更新...",value:w,onChange:e=>k(e.target.value),className:"mt-2"}),(0,l.jsx)("div",{className:"flex justify-end mt-3",children:(0,l.jsxs)(c.$,{size:"sm",onClick:()=>{w.trim()&&j&&(a(j.id,w.trim()),k(""),N(s(e)))},children:[(0,l.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"发布更新"]})})]}),(j.updates||[]).map(e=>(0,l.jsx)("div",{className:"p-4 border rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["issue"===e.type&&(0,l.jsx)(f.A,{className:"w-5 h-5 text-red-500"}),"progress"===e.type&&(0,l.jsx)(p.A,{className:"w-5 h-5 text-blue-500"}),"update"===e.type&&(0,l.jsx)(y.A,{className:"w-5 h-5 text-green-500"})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:e.author}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:e.date})]}),(0,l.jsx)("p",{className:"text-sm text-gray-700",children:e.content})]})]})},e.id))]})]})}),(0,l.jsx)(d.av,{value:"files",className:"space-y-4",children:(0,l.jsxs)(i.Zp,{children:[(0,l.jsxs)(i.aR,{children:[(0,l.jsx)(i.ZB,{children:"项目文档"}),(0,l.jsx)(i.BT,{children:"项目相关的文档和资料"})]}),(0,l.jsx)(i.Wu,{children:(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(v.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,l.jsx)("p",{children:"暂无项目文档"}),(0,l.jsx)(c.$,{variant:"outline",className:"mt-4 bg-transparent",children:"上传文档"})]})})]})})]})}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(i.Zp,{children:[(0,l.jsx)(i.aR,{children:(0,l.jsx)(i.ZB,{className:"text-lg",children:"项目概览"})}),(0,l.jsxs)(i.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{children:"整体进度"}),(0,l.jsxs)("span",{children:[j.progress,"%"]})]}),(0,l.jsx)(n.k,{value:j.progress,className:"h-2"})]}),(0,l.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"开始时间:"}),(0,l.jsx)("span",{children:j.startDate})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"预计完成:"}),(0,l.jsx)("span",{children:j.endDate})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"优先级:"}),(0,l.jsx)(t.E,{variant:"高"===j.priority?"destructive":"secondary",children:j.priority})]})]})]})]}),(0,l.jsxs)(i.Zp,{children:[(0,l.jsx)(i.aR,{children:(0,l.jsx)(i.ZB,{className:"text-lg",children:"项目负责人"})}),(0,l.jsx)(i.Wu,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(x.eu,{className:"w-12 h-12",children:[(0,l.jsx)(x.BK,{src:j.owner.avatar||"/placeholder.svg"}),(0,l.jsx)(x.q5,{children:j.owner.name[0]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:j.owner.name}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:j.owner.role}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:j.owner.email})]})]})})]}),(0,l.jsxs)(i.Zp,{children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(b.A,{className:"w-5 h-5"}),"团队成员"]})}),(0,l.jsx)(i.Wu,{className:"space-y-3",children:Object.entries(j.team).map((e,s)=>{let[a,r]=e;return(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(x.eu,{className:"w-8 h-8",children:[(0,l.jsx)(x.BK,{src:r.avatar||"/placeholder.svg"}),(0,l.jsx)(x.q5,{className:"text-xs",children:r.name[0]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:r.name}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"product"===a?"产品经理":"frontend"===a?"前端开发":"backend"===a?"后端开发":"data"===a?"数据工程师":"测试工程师"})]})]},a)})})]})]})]})})]}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"项目不存在"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"您访问的项目可能已被删除或不存在。"}),(0,l.jsx)(A(),{href:"/",children:(0,l.jsxs)(c.$,{variant:"outline",children:[(0,l.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"返回项目列表"]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[435,458,120,441,684,358],()=>s(115)),_N_E=e.O()}]);